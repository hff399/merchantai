(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[821],{8586:function(e,t,l){Promise.resolve().then(l.bind(l,7135))},7135:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return u}});var s=l(7437),a=l(2265),r=l(9376),n=l(9064),c=l(7648),d=l(2660);let i=(0,l(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var o=l(9397);function u(){let e=(0,r.useRouter)(),[t,l]=(0,a.useState)(!1),[u,x]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[p,b]=(0,a.useState)(""),[y,f]=(0,a.useState)(""),[g,j]=(0,a.useState)("40"),v=async()=>{if(!u||!h||!p){n.ZP.error("Заполните все обязательные поля");return}l(!0);try{let t=await fetch("/api/outreach/accounts/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:u,api_id:h,api_hash:p,name:y||null,daily_limit:parseInt(g)||40})});if(t.ok)n.ZP.success("Аккаунт добавлен. Требуется авторизация."),e.push("/outreach/accounts");else{let e=await t.json();n.ZP.error(e.error||"Ошибка")}}catch(e){n.ZP.error("Ошибка")}finally{l(!1)}};return(0,s.jsxs)("div",{className:"max-w-lg",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(c.default,{href:"/outreach/accounts",className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 mb-4",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),"Назад к аккаунтам"]}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Добавить аккаунт"})]}),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(i,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Важно!"}),(0,s.jsx)("p",{children:"Использование личных аккаунтов для массовой рассылки может привести к бану. Рекомендуем использовать отдельные аккаунты для аутрича."})]})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Название (для себя)"}),(0,s.jsx)("input",{type:"text",value:y,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",placeholder:"Рабочий аккаунт 1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Номер телефона *"}),(0,s.jsx)("input",{type:"text",value:u,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",placeholder:"+79001234567"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"API ID *"}),(0,s.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",placeholder:"12345678"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"API Hash *"}),(0,s.jsx)("input",{type:"text",value:p,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg font-mono",placeholder:"a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Дневной лимит сообщений"}),(0,s.jsx)("input",{type:"number",value:g,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",placeholder:"40"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Рекомендуем не более 40 сообщений в день для нового аккаунта"})]}),(0,s.jsxs)("button",{onClick:v,disabled:t||!u||!h||!p,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4"}),t?"Добавление...":"Добавить аккаунт"]})]})]})}},2660:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});let s=(0,l(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9397:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});let s=(0,l(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7648:function(e,t,l){"use strict";l.d(t,{default:function(){return a.a}});var s=l(2972),a=l.n(s)}},function(e){e.O(0,[972,952,971,117,744],function(){return e(e.s=8586)}),_N_E=e.O()}]);