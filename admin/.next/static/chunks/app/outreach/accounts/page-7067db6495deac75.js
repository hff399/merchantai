(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{9622:function(e,t,c){Promise.resolve().then(c.bind(c,3422)),Promise.resolve().then(c.t.bind(c,2972,23))},3422:function(e,t,c){"use strict";c.d(t,{default:function(){return h}});var r=c(7437),s=c(2265),a=c(9376),n=c(9064),i=c(7684);let l=(0,c(9763).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var o=c(8930);function h(e){let{account:t}=e,c=(0,a.useRouter)(),[h,d]=(0,s.useState)(!1),[u,y]=(0,s.useState)(!1),f=async()=>{y(!0);try{(await fetch("/api/outreach/accounts/reconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:t.id})})).ok?(n.ZP.success("Переподключение запущено"),c.refresh()):n.ZP.error("Ошибка")}catch(e){n.ZP.error("Ошибка")}finally{y(!1),d(!1)}},x=async()=>{if(confirm("Удалить аккаунт ".concat(t.name||t.phone,"?"))){y(!0);try{(await fetch("/api/outreach/accounts/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:t.id})})).ok?(n.ZP.success("Аккаунт удалён"),c.refresh()):n.ZP.error("Ошибка")}catch(e){n.ZP.error("Ошибка")}finally{y(!1),d(!1)}}};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>d(!h),className:"p-2 hover:bg-gray-100 rounded-lg",disabled:u,children:(0,r.jsx)(i.Z,{className:"w-5 h-5 text-gray-500"})}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:[(0,r.jsxs)("button",{onClick:f,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[(0,r.jsx)(l,{className:"w-4 h-4"}),"Переподключить"]}),(0,r.jsx)("hr",{className:"my-1"}),(0,r.jsxs)("button",{onClick:x,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 text-red-600",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"}),"Удалить"]})]})]})]})}},7684:function(e,t,c){"use strict";c.d(t,{Z:function(){return r}});let r=(0,c(9763).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},8930:function(e,t,c){"use strict";c.d(t,{Z:function(){return r}});let r=(0,c(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[972,952,971,117,744],function(){return e(e.s=9622)}),_N_E=e.O()}]);