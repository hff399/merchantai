(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{8333:function(e,t,s){Promise.resolve().then(s.bind(s,2074)),Promise.resolve().then(s.t.bind(s,2972,23))},2074:function(e,t,s){"use strict";s.d(t,{default:function(){return d}});var r=s(7437),c=s(2265),a=s(9376),i=s(9064),n=s(7684),l=s(9763);let o=(0,l.Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),h=(0,l.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var u=s(8930);function d(e){let{group:t}=e,s=(0,a.useRouter)(),[l,d]=(0,c.useState)(!1),[y,x]=(0,c.useState)(!1),f=async()=>{x(!0);try{let e="active"===t.status?"paused":"active";(await fetch("/api/outreach/groups/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:t.id,status:e})})).ok?(i.ZP.success("active"===e?"Группа активирована":"Группа приостановлена"),s.refresh()):i.ZP.error("Ошибка")}catch(e){i.ZP.error("Ошибка")}finally{x(!1),d(!1)}},p=async()=>{if(confirm('Удалить группу "'.concat(t.title,'"?'))){x(!0);try{(await fetch("/api/outreach/groups/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:t.id})})).ok?(i.ZP.success("Группа удалена"),s.refresh()):i.ZP.error("Ошибка")}catch(e){i.ZP.error("Ошибка")}finally{x(!1),d(!1)}}};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>d(!l),className:"p-2 hover:bg-gray-100 rounded-lg",disabled:y,children:(0,r.jsx)(n.Z,{className:"w-5 h-5 text-gray-500"})}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:[(0,r.jsx)("button",{onClick:f,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:"active"===t.status?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{className:"w-4 h-4"}),"Приостановить"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{className:"w-4 h-4"}),"Активировать"]})}),(0,r.jsx)("hr",{className:"my-1"}),(0,r.jsxs)("button",{onClick:p,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 text-red-600",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4"}),"Удалить"]})]})]})]})}},7684:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},8930:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[972,952,971,117,744],function(){return e(e.s=8333)}),_N_E=e.O()}]);