(()=>{var e={};e.id=335,e.ids=[335],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},449:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(2312),t(9256),t(5866);var s=t(3191),a=t(8716),l=t(7922),n=t.n(l),o=t(5231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(r,i);let d=["",{children:["outreach",{children:["groups",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2312)),"/Users/leomishin/merchantai/admin/app/outreach/groups/new/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9256)),"/Users/leomishin/merchantai/admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/leomishin/merchantai/admin/app/outreach/groups/new/page.tsx"],u="/outreach/groups/new/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/outreach/groups/new/page",pathname:"/outreach/groups/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2183:(e,r,t)=>{Promise.resolve().then(t.bind(t,3530))},791:(e,r,t)=>{Promise.resolve().then(t.bind(t,3842)),Promise.resolve().then(t.bind(t,381))},2460:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},3530:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(326),a=t(7577),l=t(5047),n=t(381),o=t(434),i=t(6333),d=t(3855);let c=(0,t(6557).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function u(){let e=(0,l.useRouter)(),[r,t]=(0,a.useState)(!1),[u,m]=(0,a.useState)("single"),[h,x]=(0,a.useState)(""),[p,b]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[v,N]=(0,a.useState)(""),w=async()=>{if(!h.trim()){n.ZP.error("Введите название группы");return}t(!0);try{let r=await fetch("/api/outreach/groups/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:h,username:p||null,category:g||null,member_count:f?parseInt(f):null})});if(r.ok)n.ZP.success("Группа добавлена"),e.push("/outreach/groups");else{let e=await r.json();n.ZP.error(e.error||"Ошибка")}}catch(e){n.ZP.error("Ошибка")}finally{t(!1)}},P=async()=>{if(!v.trim()){n.ZP.error("Введите данные для импорта");return}t(!0);try{let r=v.trim().split("\n").map(e=>{let r=e.split("|").map(e=>e.trim());return{title:r[0]||"Без названия",username:r[1]||null,category:r[2]||null,member_count:r[3]?parseInt(r[3]):null}}),t=await fetch("/api/outreach/groups/bulk-create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groups:r})});if(t.ok){let r=await t.json();n.ZP.success(`Добавлено ${r.count} групп`),e.push("/outreach/groups")}else{let e=await t.json();n.ZP.error(e.error||"Ошибка")}}catch(e){n.ZP.error("Ошибка")}finally{t(!1)}};return(0,s.jsxs)("div",{className:"max-w-2xl",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(o.default,{href:"/outreach/groups",className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 mb-4",children:[s.jsx(i.Z,{className:"w-4 h-4"}),"Назад к группам"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Добавить группы"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 mb-6",children:[(0,s.jsxs)("div",{className:"flex border-b border-gray-200",children:[s.jsx("button",{onClick:()=>m("single"),className:`flex-1 px-4 py-3 text-sm font-medium ${"single"===u?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Одна группа"}),s.jsx("button",{onClick:()=>m("bulk"),className:`flex-1 px-4 py-3 text-sm font-medium ${"bulk"===u?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Массовый импорт"})]}),s.jsx("div",{className:"p-6",children:"single"===u?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Название группы *"}),s.jsx("input",{type:"text",value:h,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",placeholder:"WB Дизайнеры"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username (без @)"}),s.jsx("input",{type:"text",value:p,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",placeholder:"wb_designers"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Категория"}),s.jsx("input",{type:"text",value:g,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",placeholder:"wb_designers, freelancers, etc."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Количество участников"}),s.jsx("input",{type:"number",value:f,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",placeholder:"5000"})]}),(0,s.jsxs)("button",{onClick:w,disabled:r||!h.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[s.jsx(d.Z,{className:"w-4 h-4"}),r?"Добавление...":"Добавить группу"]})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Данные для импорта"}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Формат: название|username|категория|участников (по одной группе на строку)"}),s.jsx("textarea",{value:v,onChange:e=>N(e.target.value),rows:10,className:"w-full px-3 py-2 border border-gray-200 rounded-lg font-mono text-sm",placeholder:`WB Дизайнеры|wb_designers|wb_designers|5000
Фриланс Биржа|freelance_birja|freelancers|12000
Удалённая работа|remote_job|jobs|8000`})]}),(0,s.jsxs)("button",{onClick:P,disabled:r||!v.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[s.jsx(c,{className:"w-4 h-4"}),r?"Импорт...":"Импортировать группы"]})]})})]})]})}},3842:(e,r,t)=>{"use strict";t.d(r,{default:()=>b});var s=t(326),a=t(434),l=t(5047),n=t(1135),o=t(1009),i=t(4319),d=t(4061),c=t(9436),u=t(3468),m=t(4975),h=t(617),x=t(8378);let p=[{name:"Дашборд",href:"/",icon:i.Z},{name:"Пользователи",href:"/users",icon:d.Z},{name:"Рассылки",href:"/broadcasts",icon:c.Z},{name:"Аутрич",href:"/outreach",icon:u.Z},{name:"Лиды",href:"/outreach/leads",icon:m.Z},{name:"Группы",href:"/outreach/groups",icon:h.Z}];function b(){let e=(0,l.usePathname)();return(0,s.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"MerchantAI"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Admin Panel"})]}),s.jsx("nav",{className:"flex-1 p-4 space-y-1",children:p.map(r=>{let t=e===r.href||"/"!==r.href&&e.startsWith(r.href);return(0,s.jsxs)(a.default,{href:r.href,className:function(...e){return(0,o.m6)((0,n.W)(e))}("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",t?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[s.jsx(r.icon,{className:"w-5 h-5"}),r.name]},r.name)})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:(0,s.jsxs)(a.default,{href:"/settings",className:"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[s.jsx(x.Z,{className:"w-5 h-5"}),"Настройки"]})})]})}},6333:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3855:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9256:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>i});var s=t(9510),a=t(8013),l=t.n(a);t(7272);var n=t(9125);let o=(0,t(8570).createProxy)(String.raw`/Users/leomishin/merchantai/admin/components/Sidebar.tsx#default`),i={title:"MerchantAI Admin",description:"Admin dashboard for MerchantAI Telegram Bot"};function d({children:e}){return s.jsx("html",{lang:"ru",children:(0,s.jsxs)("body",{className:l().className,children:[(0,s.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[s.jsx(o,{}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsx("div",{className:"p-8",children:e})})]}),s.jsx(n.x7,{position:"top-right"})]})})}},2312:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/Users/leomishin/merchantai/admin/app/outreach/groups/new/page.tsx#default`)},7272:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,223],()=>t(449));module.exports=s})();