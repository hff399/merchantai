(()=>{var e={};e.id=526,e.ids=[526],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2807:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>d,routeModule:()=>x,tree:()=>o}),s(6592),s(9256),s(5866);var a=s(3191),r=s(8716),n=s(7922),l=s.n(n),c=s(5231),i={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);s.d(t,i);let o=["",{children:["outreach",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6592)),"/Users/leomishin/merchantai/admin/app/outreach/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9256)),"/Users/leomishin/merchantai/admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/leomishin/merchantai/admin/app/outreach/page.tsx"],h="/outreach/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/outreach/page",pathname:"/outreach",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},791:(e,t,s)=>{Promise.resolve().then(s.bind(s,3842)),Promise.resolve().then(s.bind(s,381))},2460:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},2883:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9404,23))},3842:(e,t,s)=>{"use strict";s.d(t,{default:()=>p});var a=s(326),r=s(434),n=s(5047),l=s(1135),c=s(1009),i=s(4319),o=s(4061),d=s(9436),h=s(3468),m=s(4975),x=s(617),u=s(8378);let g=[{name:"Дашборд",href:"/",icon:i.Z},{name:"Пользователи",href:"/users",icon:o.Z},{name:"Рассылки",href:"/broadcasts",icon:d.Z},{name:"Аутрич",href:"/outreach",icon:h.Z},{name:"Лиды",href:"/outreach/leads",icon:m.Z},{name:"Группы",href:"/outreach/groups",icon:x.Z}];function p(){let e=(0,n.usePathname)();return(0,a.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"MerchantAI"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Admin Panel"})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:g.map(t=>{let s=e===t.href||"/"!==t.href&&e.startsWith(t.href);return(0,a.jsxs)(r.default,{href:t.href,className:function(...e){return(0,c.m6)((0,l.W)(e))}("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",s?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[a.jsx(t.icon,{className:"w-5 h-5"}),t.name]},t.name)})}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)(r.default,{href:"/settings",className:"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[a.jsx(u.Z,{className:"w-5 h-5"}),"Настройки"]})})]})}},9256:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>i});var a=s(9510),r=s(8013),n=s.n(r);s(7272);var l=s(9125);let c=(0,s(8570).createProxy)(String.raw`/Users/leomishin/merchantai/admin/components/Sidebar.tsx#default`),i={title:"MerchantAI Admin",description:"Admin dashboard for MerchantAI Telegram Bot"};function o({children:e}){return a.jsx("html",{lang:"ru",children:(0,a.jsxs)("body",{className:n().className,children:[(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(c,{}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"p-8",children:e})})]}),a.jsx(l.x7,{position:"top-right"})]})})}},6592:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(9510),r=s(5662),n=s(650),l=s(7371),c=s(4126),i=s(6707),o=s(1242),d=s(9987),h=s(4359),m=s(6478);let x=(0,m.Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),u=(0,m.Z)("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);async function g(){let{count:e}=await r.p.from("outreach_accounts").select("*",{count:"exact",head:!0}),{count:t}=await r.p.from("outreach_accounts").select("*",{count:"exact",head:!0}).eq("status","connected"),{count:s}=await r.p.from("outreach_groups").select("*",{count:"exact",head:!0}),{count:a}=await r.p.from("outreach_campaigns").select("*",{count:"exact",head:!0}).eq("status","active"),{count:n}=await r.p.from("outreach_leads").select("*",{count:"exact",head:!0}),{count:l}=await r.p.from("outreach_leads").select("*",{count:"exact",head:!0}).eq("status","new");return{totalAccounts:e||0,connectedAccounts:t||0,totalGroups:s||0,activeCampaigns:a||0,totalLeads:n||0,newLeads:l||0}}async function p(){let{data:e}=await r.p.from("outreach_campaigns").select("*").in("status",["active","paused"]).order("created_at",{ascending:!1}).limit(5);return e||[]}async function y(){let e=await g(),t=await p();return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Аутрич"}),a.jsx("p",{className:"text-gray-500",children:"Автоматизация привлечения клиентов"})]}),(0,a.jsxs)(l.default,{href:"/outreach/campaigns/new",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[a.jsx(c.Z,{className:"w-4 h-4"}),"Новая кампания"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,a.jsxs)(l.default,{href:"/outreach/accounts",className:"bg-white rounded-xl border border-gray-200 p-4 hover:border-blue-300 transition-colors",children:[a.jsx(i.Z,{className:"w-6 h-6 text-blue-600 mb-2"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[e.connectedAccounts,"/",e.totalAccounts]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Аккаунтов"})]}),(0,a.jsxs)(l.default,{href:"/outreach/groups",className:"bg-white rounded-xl border border-gray-200 p-4 hover:border-blue-300 transition-colors",children:[a.jsx(o.Z,{className:"w-6 h-6 text-purple-600 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:(0,n.uf)(e.totalGroups)}),a.jsx("p",{className:"text-sm text-gray-500",children:"Групп"})]}),(0,a.jsxs)(l.default,{href:"/outreach/campaigns",className:"bg-white rounded-xl border border-gray-200 p-4 hover:border-blue-300 transition-colors",children:[a.jsx(d.Z,{className:"w-6 h-6 text-green-600 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:e.activeCampaigns}),a.jsx("p",{className:"text-sm text-gray-500",children:"Активных кампаний"})]}),(0,a.jsxs)(l.default,{href:"/outreach/leads",className:"bg-white rounded-xl border border-gray-200 p-4 hover:border-blue-300 transition-colors",children:[a.jsx(h.Z,{className:"w-6 h-6 text-orange-600 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:(0,n.uf)(e.totalLeads)}),a.jsx("p",{className:"text-sm text-gray-500",children:"Всего лидов"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[a.jsx(h.Z,{className:"w-6 h-6 text-cyan-600 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:e.newLeads}),a.jsx("p",{className:"text-sm text-gray-500",children:"Новых лидов"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(l.default,{href:"/outreach/accounts",className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Telegram аккаунты"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Управление аккаунтами для аутрича"})]}),(0,a.jsxs)(l.default,{href:"/outreach/groups",className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Группы"}),a.jsx("p",{className:"text-sm text-gray-500",children:"База групп для размещения объявлений"})]}),(0,a.jsxs)(l.default,{href:"/outreach/campaigns",className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Кампании"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Настройка и запуск кампаний"})]}),(0,a.jsxs)(l.default,{href:"/outreach/leads",className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Лиды"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Люди, откликнувшиеся на объявления"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Активные кампании"}),a.jsx(l.default,{href:"/outreach/campaigns",className:"text-blue-600 text-sm hover:underline",children:"Все кампании →"})]}),0===t.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[a.jsx(d.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Нет активных кампаний"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Создайте первую кампанию для привлечения клиентов"}),(0,a.jsxs)(l.default,{href:"/outreach/campaigns/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[a.jsx(c.Z,{className:"w-4 h-4"}),"Создать кампанию"]})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:t.map(e=>(0,a.jsxs)("div",{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${"active"===e.status?"bg-green-100":"bg-yellow-100"}`,children:"active"===e.status?a.jsx(x,{className:"w-5 h-5 text-green-600"}):a.jsx(u,{className:"w-5 h-5 text-yellow-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Отправлено: ",e.messages_sent," \xb7 Ответов: ",e.replies_received," \xb7 Конверсий: ",e.conversations_started]})]}),a.jsx(l.default,{href:`/outreach/campaigns/${e.id}`,className:"px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded",children:"Подробнее"})]},e.id))})]})]})}},5662:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});let a=(0,s(7857).eI)("https://lfeqwqcbhjkedclxihlw.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}})},650:(e,t,s)=>{"use strict";s.d(t,{SY:()=>c,p6:()=>l,uf:()=>o,xG:()=>i});var a=s(3597),r=s(4269),n=s(6611);function l(e){return(0,a.Z)(new Date(e),"dd.MM.yyyy HH:mm",{locale:n.Z})}function c(e){return(0,r.Z)(new Date(e),{addSuffix:!0,locale:n.Z})}function i(e,t="RUB"){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function o(e){return new Intl.NumberFormat("ru-RU").format(e)}},1242:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6478).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},4126:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6478).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9987:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6478).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},4359:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6478).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},6707:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6478).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7371:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(1812),r=s.n(a)},1812:(e,t,s)=>{"use strict";let{createProxy:a}=s(8570);e.exports=a("/Users/leomishin/merchantai/admin/node_modules/next/dist/client/link.js")},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,857,223,377],()=>s(2807));module.exports=a})();