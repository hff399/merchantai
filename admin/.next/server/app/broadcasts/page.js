(()=>{var e={};e.id=2267,e.ids=[2267],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},47757:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>i}),s(84001),s(69256),s(35866);var a=s(23191),r=s(88716),l=s(37922),n=s.n(l),d=s(95231),c={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);s.d(t,c);let i=["",{children:["broadcasts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,84001)),"/Users/leomishin/merchantai/admin/app/broadcasts/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69256)),"/Users/leomishin/merchantai/admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/leomishin/merchantai/admin/app/broadcasts/page.tsx"],x="/broadcasts/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/broadcasts/page",pathname:"/broadcasts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},98316:(e,t,s)=>{Promise.resolve().then(s.bind(s,10341))},20791:(e,t,s)=>{Promise.resolve().then(s.bind(s,8633)),Promise.resolve().then(s.bind(s,40381))},62460:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},10341:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(10326),r=s(17577),l=s(40381),n=s(76557);let d=(0,n.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);var c=s(48998),i=s(69436),o=s(54659);let x=(0,n.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var m=s(71059),h=s(25696),g=s(79256),p=s(12969),u=s(83855),b=s(24061),y=s(231),j=s(12714),f=s(43810),v=s(98091);let N={draft:{label:"Черновик",icon:d,color:"bg-gray-100 text-gray-700"},scheduled:{label:"Запланирована",icon:c.Z,color:"bg-yellow-100 text-yellow-700"},sending:{label:"Отправка",icon:i.Z,color:"bg-blue-100 text-blue-700"},completed:{label:"Завершена",icon:o.Z,color:"bg-green-100 text-green-700"},failed:{label:"Ошибка",icon:x,color:"bg-red-100 text-red-700"},paused:{label:"Приостановлена",icon:m.Z,color:"bg-orange-100 text-orange-700"}};function w(){let[e,t]=(0,r.useState)("broadcasts"),[s,n]=(0,r.useState)([]),[c,o]=(0,r.useState)([]),[x,m]=(0,r.useState)(0),[w,k]=(0,r.useState)(!0),[Z,_]=(0,r.useState)(""),[P,C]=(0,r.useState)("created_at"),[M,S]=(0,r.useState)("desc"),[T,L]=(0,r.useState)(1),[z,A]=(0,r.useState)(!1),[q,H]=(0,r.useState)(!1),[$,O]=(0,r.useState)(null),[U,V]=(0,r.useState)(null),[I,E]=(0,r.useState)(null),[F,D]=(0,r.useState)({title:"",message:"",parse_mode:"HTML",target_type:"all",target_tags:[],scheduled_at:""}),[G,J]=(0,r.useState)({name:"",message:"",parse_mode:"HTML"}),[R,W]=(0,r.useState)([]),[X,B]=(0,r.useState)(0),K=(0,r.useCallback)(async()=>{k(!0);let e=new URLSearchParams;Z&&e.set("status",Z),e.set("sort",P),e.set("order",M),e.set("page",String(T));try{let t=await fetch(`/api/broadcasts/list?${e.toString()}`),s=await t.json();n(s.broadcasts||[]),m(s.total||0)}catch(e){console.error("Failed to fetch broadcasts:",e)}k(!1)},[Z,P,M,T]),Q=async()=>{try{let e=await fetch("/api/broadcasts/templates/list"),t=await e.json();o(t.templates||[])}catch(e){console.error("Failed to fetch templates:",e)}},Y=e=>{P===e?S("desc"===M?"asc":"desc"):(C(e),S("desc"))},ee=async e=>{if(!F.message.trim()){l.ZP.error("Введите текст сообщения");return}E("create");try{let t=await fetch("/api/broadcasts/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...F,status:e?"sending":"draft"})}),s=await t.json();t.ok?(l.ZP.success(e?"Рассылка запущена":"Черновик сохранён"),A(!1),D({title:"",message:"",parse_mode:"HTML",target_type:"all",target_tags:[],scheduled_at:""}),K()):l.ZP.error(s.error||"Ошибка")}catch(e){l.ZP.error("Ошибка")}finally{E(null)}},et=async()=>{if(!G.name.trim()||!G.message.trim()){l.ZP.error("Заполните название и текст");return}E("template");try{(await fetch("/api/broadcasts/templates/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})).ok?(l.ZP.success("Шаблон сохранён"),H(!1),J({name:"",message:"",parse_mode:"HTML"}),Q()):l.ZP.error("Ошибка сохранения")}catch(e){l.ZP.error("Ошибка")}finally{E(null)}},es=async e=>{if(confirm("Удалить рассылку?")){E(e);try{(await fetch("/api/broadcasts/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({broadcastId:e})})).ok?(l.ZP.success("Рассылка удалена"),K()):l.ZP.error("Ошибка удаления")}catch(e){l.ZP.error("Ошибка")}finally{E(null),V(null)}}},ea=async e=>{if(confirm("Удалить шаблон?"))try{(await fetch("/api/broadcasts/templates/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateId:e})})).ok?(l.ZP.success("Шаблон удалён"),Q()):l.ZP.error("Ошибка удаления")}catch(e){l.ZP.error("Ошибка")}},er=e=>{D({...F,message:e.message,parse_mode:e.parse_mode}),A(!0)},el=e=>{D({title:`${e.title} (копия)`,message:e.message,parse_mode:e.parse_mode,target_type:e.target_type,target_tags:e.target_tags||[],scheduled_at:""}),A(!0),V(null)},en=({field:e,children:t})=>(0,a.jsxs)("button",{onClick:()=>Y(e),className:"flex items-center gap-1 hover:text-gray-900",children:[t,P===e?"desc"===M?a.jsx(h.Z,{className:"w-3 h-3"}):a.jsx(g.Z,{className:"w-3 h-3"}):a.jsx(p.Z,{className:"w-3 h-3 opacity-30"})]}),ed=Math.ceil(x/20);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Рассылки"}),a.jsx("p",{className:"text-gray-500",children:"broadcasts"===e?`Всего: ${x}`:`Шаблонов: ${c.length}`})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:["templates"===e&&(0,a.jsxs)("button",{onClick:()=>H(!0),className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(u.Z,{className:"w-4 h-4"}),"Новый шаблон"]}),(0,a.jsxs)("button",{onClick:()=>A(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[a.jsx(u.Z,{className:"w-4 h-4"}),"Новая рассылка"]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex border-b border-gray-200",children:[a.jsx("button",{onClick:()=>t("broadcasts"),className:`flex-1 px-4 py-3 text-sm font-medium ${"broadcasts"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Рассылки"}),a.jsx("button",{onClick:()=>t("templates"),className:`flex-1 px-4 py-3 text-sm font-medium ${"templates"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Шаблоны"})]}),"broadcasts"===e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsx("div",{className:"flex flex-wrap gap-4",children:(0,a.jsxs)("select",{value:Z,onChange:e=>{_(e.target.value),L(1)},className:"px-4 py-2 border border-gray-200 rounded-lg",children:[a.jsx("option",{value:"",children:"Все статусы"}),Object.entries(N).map(([e,t])=>a.jsx("option",{value:e,children:t.label},e))]})})}),w?a.jsx("div",{className:"p-12 text-center",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"})}):0===s.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[a.jsx(i.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Нет рассылок"}),a.jsx("p",{className:"text-gray-500",children:"Создайте первую рассылку"})]}):(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Рассылка"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Статус"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Аудитория"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:a.jsx(en,{field:"sent_count",children:"Отправлено"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:a.jsx(en,{field:"created_at",children:"Дата"})}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Действия"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(e=>{let t=N[e.status]||N.draft,s=t.icon;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-medium text-gray-900",children:e.title||"Без названия"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:[e.message.substring(0,50),"..."]})]}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm ${t.color}`,children:[a.jsx(s,{className:"w-4 h-4"}),t.label]})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(b.Z,{className:"w-4 h-4"}),e.total_recipients]})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm",children:[a.jsx("span",{className:"text-green-600",children:e.sent_count}),e.failed_count>0&&(0,a.jsxs)("span",{className:"text-red-600 ml-2",children:["/ ",e.failed_count," ошибок"]})]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:(0,a.jsxs)("div",{className:"relative inline-block",children:[a.jsx("button",{onClick:()=>V(U===e.id?null:e.id),className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(y.Z,{className:"w-5 h-5 text-gray-500"})}),U===e.id&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>V(null)}),(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,a.jsxs)("button",{onClick:()=>{O(e),V(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(j.Z,{className:"w-4 h-4"}),"Просмотр"]}),(0,a.jsxs)("button",{onClick:()=>el(e),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(f.Z,{className:"w-4 h-4"}),"Дублировать"]}),(0,a.jsxs)("button",{onClick:()=>es(e.id),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 text-red-600",children:[a.jsx(v.Z,{className:"w-4 h-4"}),"Удалить"]})]})]})]})})]},e.id)})})]})]}),"templates"===e&&a.jsx("div",{className:"p-6",children:0===c.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(d,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Нет шаблонов"}),a.jsx("p",{className:"text-gray-500",children:"Создайте шаблоны для быстрой рассылки"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:c.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-3",children:e.message}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>er(e),className:"flex-1 px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Использовать"}),a.jsx("button",{onClick:()=>ea(e.id),className:"px-3 py-1 border border-gray-200 text-sm rounded hover:bg-gray-50",children:a.jsx(v.Z,{className:"w-4 h-4"})})]})]},e.id))})})]}),"broadcasts"===e&&ed>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Страница ",T," из ",ed]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>L(e=>Math.max(1,e-1)),disabled:1===T,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Назад"}),a.jsx("button",{onClick:()=>L(e=>Math.min(ed,e+1)),disabled:T===ed,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Вперёд"})]})]}),z&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 overflow-y-auto py-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Новая рассылка"}),(0,a.jsxs)("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Название (для себя)"}),a.jsx("input",{type:"text",value:F.title,onChange:e=>D({...F,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",placeholder:"Новогодняя акция"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Формат"}),(0,a.jsxs)("select",{value:F.parse_mode,onChange:e=>D({...F,parse_mode:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",children:[a.jsx("option",{value:"HTML",children:"HTML"}),a.jsx("option",{value:"Markdown",children:"Markdown"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Сообщение *"}),a.jsx("textarea",{value:F.message,onChange:e=>D({...F,message:e.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-200 rounded-lg font-mono text-sm",placeholder:"HTML"===F.parse_mode?"<b>Привет!</b>\n\nТекст сообщения":"**Привет!**\n\nТекст сообщения"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Аудитория"}),(0,a.jsxs)("select",{value:F.target_type,onChange:e=>D({...F,target_type:e.target.value,target_tags:[]}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",children:[a.jsx("option",{value:"all",children:"Все пользователи"}),a.jsx("option",{value:"tags",children:"По тегам"})]})]}),"tags"===F.target_type&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Теги"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(e=>a.jsx("button",{type:"button",onClick:()=>{let t=F.target_tags.includes(e)?F.target_tags.filter(t=>t!==e):[...F.target_tags,e];D({...F,target_tags:t})},className:`px-3 py-1 rounded-full text-sm ${F.target_tags.includes(e)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e},e))})]}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[a.jsx(b.Z,{className:"w-4 h-4 inline mr-1"}),"Получателей: ",a.jsx("strong",{children:X})]})}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Отмена"}),a.jsx("button",{onClick:()=>ee(!1),disabled:"create"===I,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Сохранить черновик"}),(0,a.jsxs)("button",{onClick:()=>ee(!0),disabled:"create"===I||0===X,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[a.jsx(i.Z,{className:"w-4 h-4"}),"create"===I?"Отправка...":"Отправить сейчас"]})]})]})]})}),q&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Новый шаблон"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Название *"}),a.jsx("input",{type:"text",value:G.name,onChange:e=>J({...G,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",placeholder:"Приветственное сообщение"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Формат"}),(0,a.jsxs)("select",{value:G.parse_mode,onChange:e=>J({...G,parse_mode:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg",children:[a.jsx("option",{value:"HTML",children:"HTML"}),a.jsx("option",{value:"Markdown",children:"Markdown"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Текст *"}),a.jsx("textarea",{value:G.message,onChange:e=>J({...G,message:e.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-200 rounded-lg font-mono text-sm"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>H(!1),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Отмена"}),a.jsx("button",{onClick:et,disabled:"template"===I,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"template"===I?"Сохранение...":"Сохранить"})]})]})]})}),$&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Просмотр рассылки"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:$.message.replace(/\n/g,"<br>")}})}),a.jsx("button",{onClick:()=>O(null),className:"w-full px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Закрыть"})]})})]})}},8633:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var a=s(10326),r=s(90434),l=s(35047),n=s(24319),d=s(76464),c=s(24061),i=s(69436),o=s(53468),x=s(83495),m=s(94909),h=s(52679),g=s(74975),p=s(941),u=s(39183),b=s(17577);let y=[{name:"Дашборд",href:"/",icon:n.Z},{name:"Аналитика",href:"/analytics",icon:d.Z},{name:"Пользователи",href:"/users",icon:c.Z},{name:"Рассылки",href:"/broadcasts",icon:i.Z}],j=[{name:"Обзор",href:"/outreach",icon:o.Z},{name:"Аккаунты",href:"/outreach/accounts",icon:x.Z},{name:"Группы",href:"/outreach/groups",icon:m.Z},{name:"Кампании",href:"/outreach/campaigns",icon:h.Z},{name:"Лиды",href:"/outreach/leads",icon:g.Z}];function f(){let e=(0,l.usePathname)(),[t,s]=(0,b.useState)(e.startsWith("/outreach"));return(0,a.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col min-h-screen",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"MerchantAI"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Admin Panel"})]}),(0,a.jsxs)("nav",{className:"flex-1 p-4 space-y-1",children:[y.map(t=>{let s=e===t.href;return(0,a.jsxs)(r.default,{href:t.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[a.jsx(t.icon,{className:"w-5 h-5"}),t.name]},t.name)}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{onClick:()=>s(!t),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e.startsWith("/outreach")?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(o.Z,{className:"w-5 h-5"}),"Аутрич"]}),t?a.jsx(p.Z,{className:"w-4 h-4"}):a.jsx(u.Z,{className:"w-4 h-4"})]}),t&&a.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l border-gray-200 pl-4",children:j.map(t=>{let s=e===t.href;return(0,a.jsxs)(r.default,{href:t.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${s?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[a.jsx(t.icon,{className:"w-4 h-4"}),t.name]},t.href)})})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsx("p",{className:"text-xs text-gray-400 text-center",children:"v2.0.0"})})]})}},25696:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},12969:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},79256:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},54659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},43810:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},12714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},231:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},71059:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]])},83855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},84001:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/leomishin/merchantai/admin/app/broadcasts/page.tsx#default`)},69256:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>c});var a=s(19510),r=s(68013),l=s.n(r);s(67272);var n=s(19125);let d=(0,s(68570).createProxy)(String.raw`/Users/leomishin/merchantai/admin/components/Sidebar.tsx#default`),c={title:"MerchantAI Admin",description:"Admin dashboard for MerchantAI Telegram Bot"};function i({children:e}){return a.jsx("html",{lang:"ru",children:(0,a.jsxs)("body",{className:l().className,children:[(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(d,{}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"p-8",children:e})})]}),a.jsx(n.x7,{position:"top-right"})]})})}},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[9276,3138],()=>s(47757));module.exports=a})();